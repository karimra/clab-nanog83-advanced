clab-nanog83-super-spine1:
  interfaces:
    - name: ethernet-1/1
      admin-state: enable
      description: to_spine1_1/1
      subinterface:
        - admin-state: enable
          ipv4-address: 2.1.1.0/31
    - name: ethernet-1/2
      admin-state: enable
      description: to_spine2_1/1
      subinterface:
        - admin-state: enable
          ipv4-address: 2.1.2.0/31
    - name: ethernet-1/3
      admin-state: enable
      description: to_spine3_1/1
      subinterface:
        - admin-state: enable
          ipv4-address: 2.1.3.0/31
    - name: ethernet-1/4
      admin-state: enable
      description: to_spine4_1/1
      subinterface:
        - admin-state: enable
          ipv4-address: 2.1.4.0/31
    - name: lo0
      admin-state: enable
      description: loopback0
      subinterface:
        - admin-state: enable
          ipv4-address: 30.1.1.1/32
  
  routing-policy:
    prefix-set:
      - name: super-spines-loopbacks
        prefix: 30.0.0.0/8
        mask-length-range: 8..32
      - name: spines-loopbacks
        prefix: 20.0.0.0/8
        mask-length-range: 8..32
      - name: leaves-loopbacks
        prefix: 10.0.0.0/8
        mask-length-range: 8..32
    policy:
      - name: "export-loopbacks"
        statement:
        - sequence-id: 1
          match:
            prefix-set: super-spines-loopbacks
        - sequence-id: 2
          match:
            prefix-set: spines-loopbacks
        - sequence-id: 3
          match:
            prefix-set: leaves-loopbacks

  network-instances:
    - name: "default"
      admin-state: enable
      interfaces:
      - "ethernet-1/1.0"
      - "ethernet-1/2.0"
      - "ethernet-1/3.0"
      - "ethernet-1/4.0"
      - lo0.0
      protocols:
        bgp:
          admin-state: enable
          autonomous-system: "65001"
          group:
          - admin-state: enable
            group-name: "spines"
          ipv4-unicast:
            multipath:
              max-paths-level-1: "32"
              max-paths-level-2: "32"
          neighbor:
          - admin-state: enable
            export-policy: export-loopbacks
            failure-detection:
              enable-bfd: "true"
              fast-failover: "true"
            peer-address: "2.1.1.1" # key TODO:
            peer-as: "65010" # spine pod1
            peer-group: "spines"
          - admin-state: enable
            export-policy: export-loopbacks
            failure-detection:
              enable-bfd: "true"
              fast-failover: "true"
            peer-address: "2.1.2.1" # key TODO:
            peer-as: "65010" # spine pod1
            peer-group: "spines"
          - admin-state: enable
            export-policy: export-loopbacks
            failure-detection:
              enable-bfd: "true"
              fast-failover: "true"
            peer-address: "2.1.3.1" # key TODO:
            peer-as: "65020" # spine pod2
            peer-group: "spines"
          - admin-state: enable
            export-policy: export-loopbacks
            failure-detection:
              enable-bfd: "true"
              fast-failover: "true"
            peer-address: "2.1.4.1" # key TODO:
            peer-as: "65020" # spine pod2
            peer-group: "spines"
          router-id: "30.1.1.1"
      router-id: "30.1.1.1"
      type: default

clab-nanog83-super-spine2:
  interfaces:
    - name: ethernet-1/1
      admin-state: enable
      description: to_spine1_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 2.2.1.0/31
    - name: ethernet-1/2
      admin-state: enable
      description: to_spine2_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 2.2.2.0/31
    - name: ethernet-1/3
      admin-state: enable
      description: to_spine3_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 2.2.3.0/31
    - name: ethernet-1/4
      admin-state: enable
      description: to_spine4_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 2.2.4.0/31
    - name: lo0
      admin-state: enable
      description: loopback0
      subinterface:
        - admin-state: enable
          ipv4-address: 30.2.1.1/32
  
  routing-policy:
    prefix-set:
      - name: super-spines-loopbacks
        prefix: 30.0.0.0/8
        mask-length-range: 8..32
      - name: spines-loopbacks
        prefix: 20.0.0.0/8
        mask-length-range: 8..32
      - name: leaves-loopbacks
        prefix: 10.0.0.0/8
        mask-length-range: 8..32
    policy:
      - name: "export-loopbacks"
        statement:
        - sequence-id: 1
          match:
            prefix-set: super-spines-loopbacks
        - sequence-id: 2
          match:
            prefix-set: spines-loopbacks
        - sequence-id: 3
          match:
            prefix-set: leaves-loopbacks
        
  network-instances:
    - name: "default"
      admin-state: enable
      interfaces:
      - "ethernet-1/1.0"
      - "ethernet-1/2.0"
      - "ethernet-1/3.0"
      - "ethernet-1/4.0"
      - lo0.0
      protocols:
        bgp:
          admin-state: enable
          autonomous-system: "65001"
          group:
          - admin-state: enable
            group-name: "spines"
          ipv4-unicast:
            multipath:
              max-paths-level-1: "32"
              max-paths-level-2: "32"
          neighbor:
          - admin-state: enable
            export-policy: export-loopbacks
            failure-detection:
              enable-bfd: "true"
              fast-failover: "true"
            peer-address: "2.2.1.1" # key TODO:
            peer-as: "65010" # spine pod1
            peer-group: "spines"
          - admin-state: enable
            export-policy: export-loopbacks
            failure-detection:
              enable-bfd: "true"
              fast-failover: "true"
            peer-address: "2.2.2.1" # key TODO:
            peer-as: "65010" # spine pod1
            peer-group: "spines"
          - admin-state: enable
            export-policy: export-loopbacks
            failure-detection:
              enable-bfd: "true"
              fast-failover: "true"
            peer-address: "2.2.3.1" # key TODO:
            peer-as: "65020" # spine pod2
            peer-group: "spines"
          - admin-state: enable
            export-policy: export-loopbacks
            failure-detection:
              enable-bfd: "true"
              fast-failover: "true"
            peer-address: "2.2.4.1" # key TODO:
            peer-as: "65020" # spine pod2
            peer-group: "spines"
          router-id: "30.2.1.1"
      router-id: "30.2.1.1"
      type: default

clab-nanog83-spine1:
  interfaces:
    - name: ethernet-1/1
      admin-state: enable
      description: to_super_spine1_1/1
      subinterface:
        - admin-state: enable
          ipv4-address: 2.1.1.1/31

    - name: ethernet-1/2
      admin-state: enable
      description: to_super_spine2_1/1
      subinterface:
        - admin-state: enable
          ipv4-address: 2.2.1.1/31

    - name: ethernet-1/3
      admin-state: enable
      description: to_leaf1_1/1
      subinterface:
        - admin-state: enable
          ipv4-address: 1.1.1.1/31

    - name: ethernet-1/4
      admin-state: enable
      description: to_leaf2_1/1
      subinterface:
        - admin-state: enable
          ipv4-address: 1.1.2.1/31

    - name: ethernet-1/5
      admin-state: enable
      description: to_leaf3_1/1
      subinterface:
        - admin-state: enable
          ipv4-address: 1.1.3.1/31

    - name: ethernet-1/6
      admin-state: enable
      description: to_leaf4_1/1
      subinterface:
        - admin-state: enable
          ipv4-address: 1.1.4.1/31

    - name: lo0
      admin-state: enable
      description: loopback0
      subinterface:
        - admin-state: enable
          ipv4-address: 20.1.1.1/32
  
  routing-policy:
    prefix-set:
      - name: super-spines-loopbacks
        prefix: 30.0.0.0/8
        mask-length-range: 8..32
      - name: spines-loopbacks
        prefix: 20.0.0.0/8
        mask-length-range: 8..32
      - name: leaves-loopbacks
        prefix: 10.0.0.0/8
        mask-length-range: 8..32
    policy:
      - name: "export-loopbacks"
        statement:
        - sequence-id: 1
          match:
            prefix-set: super-spines-loopbacks
        - sequence-id: 2
          match:
            prefix-set: spines-loopbacks
        - sequence-id: 3
          match:
            prefix-set: leaves-loopbacks
        
  network-instances:
    - name: "default"
      admin-state: enable
      interfaces:
      - "ethernet-1/1.0"
      - "ethernet-1/2.0"
      - "ethernet-1/3.0"
      - "ethernet-1/4.0"
      - "ethernet-1/5.0"
      - "ethernet-1/6.0"
      - lo0.0
      protocols:
        bgp:
          admin-state: enable
          autonomous-system: "65010"
          group:
            - admin-state: enable
              group-name: "super-spines"
            - admin-state: enable
              group-name: "leaves"
          ipv4-unicast:
            multipath:
              max-paths-level-1: "32"
              max-paths-level-2: "32"
          neighbor:
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "2.1.1.0"
              peer-as: "65001"
              peer-group: "super-spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "2.2.1.0"
              peer-as: "65001"
              peer-group: "super-spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.1.1.0"
              peer-as: "65011"
              peer-group: "leaves"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.1.2.0"
              peer-as: "65012"
              peer-group: "leaves"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.1.3.0"
              peer-as: "65013"
              peer-group: "leaves"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.1.4.0"
              peer-as: "65014"
              peer-group: "leaves"
          router-id: "20.1.1.1"
      router-id: "20.1.1.1"
      type: default

clab-nanog83-spine2:
  interfaces:
    - name: ethernet-1/1
      admin-state: enable
      description: to_super_spine1_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 2.1.2.1/31

    - name: ethernet-1/2
      admin-state: enable
      description: to_super_spine2_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 2.2.2.1/31

    - name: ethernet-1/3
      admin-state: enable
      description: to_leaf1_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 1.2.1.1/31

    - name: ethernet-1/4
      admin-state: enable
      description: to_leaf2_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 1.2.2.1/31

    - name: ethernet-1/5
      admin-state: enable
      description: to_leaf3_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 1.2.3.1/31

    - name: ethernet-1/6
      admin-state: enable
      description: to_leaf4_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 1.2.4.1/31

    - name: lo0
      admin-state: enable
      description: loopback0
      subinterface:
        - admin-state: enable
          ipv4-address: 20.2.1.1/32

  routing-policy:
    prefix-set:
      - name: super-spines-loopbacks
        prefix: 30.0.0.0/8
        mask-length-range: 8..32
      - name: spines-loopbacks
        prefix: 20.0.0.0/8
        mask-length-range: 8..32
      - name: leaves-loopbacks
        prefix: 10.0.0.0/8
        mask-length-range: 8..32
    policy:
      - name: "export-loopbacks"
        statement:
        - sequence-id: 1
          match:
            prefix-set: super-spines-loopbacks
        - sequence-id: 2
          match:
            prefix-set: spines-loopbacks
        - sequence-id: 3
          match:
            prefix-set: leaves-loopbacks
        
  network-instances:
    - name: "default"
      admin-state: enable
      interfaces:
      - "ethernet-1/1.0"
      - "ethernet-1/2.0"
      - "ethernet-1/3.0"
      - "ethernet-1/4.0"
      - "ethernet-1/5.0"
      - "ethernet-1/6.0"
      - lo0.0
      protocols:
        bgp:
          admin-state: enable
          autonomous-system: "65010"
          group:
            - admin-state: enable
              group-name: "super-spines"
            - admin-state: enable
              group-name: "leaves"
          ipv4-unicast:
            multipath:
              max-paths-level-1: "32"
              max-paths-level-2: "32"
          neighbor:
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "2.1.2.0"
              peer-as: "65001"
              peer-group: "super-spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "2.2.2.0"
              peer-as: "65001"
              peer-group: "super-spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.2.1.0"
              peer-as: "65011"
              peer-group: "leaves"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.2.2.0"
              peer-as: "65012"
              peer-group: "leaves"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.2.3.0"
              peer-as: "65013"
              peer-group: "leaves"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.2.4.0"
              peer-as: "65014"
              peer-group: "leaves"
          router-id: "20.2.1.1"
      router-id: "20.2.1.1"
      type: default

clab-nanog83-spine3:
  interfaces:
    - name: ethernet-1/1
      admin-state: enable
      description: to_super_spine1_1/3
      subinterface:
        - admin-state: enable
          ipv4-address: 2.1.3.1/31

    - name: ethernet-1/2
      admin-state: enable
      description: to_super_spine2_1/3
      subinterface:
        - admin-state: enable
          ipv4-address: 2.2.3.1/31

    - name: ethernet-1/3
      admin-state: enable
      description: to_leaf5_1/3
      subinterface:
        - admin-state: enable
          ipv4-address: 1.3.5.1/31

    - name: ethernet-1/4
      admin-state: enable
      description: to_leaf6_1/3
      subinterface:
        - admin-state: enable
          ipv4-address: 1.3.6.1/31

    - name: ethernet-1/5
      admin-state: enable
      description: to_leaf7_1/3
      subinterface:
        - admin-state: enable
          ipv4-address: 1.3.7.1/31

    - name: ethernet-1/6
      admin-state: enable
      description: to_leaf8_1/3
      subinterface:
        - admin-state: enable
          ipv4-address: 1.3.8.1/31

    - name: lo0
      admin-state: enable
      description: loopback0
      subinterface:
        - admin-state: enable
          ipv4-address: 20.3.1.1/32

  routing-policy:
    prefix-set:
      - name: super-spines-loopbacks
        prefix: 30.0.0.0/8
        mask-length-range: 8..32
      - name: spines-loopbacks
        prefix: 20.0.0.0/8
        mask-length-range: 8..32
      - name: leaves-loopbacks
        prefix: 10.0.0.0/8
        mask-length-range: 8..32
    policy:
      - name: "export-loopbacks"
        statement:
        - sequence-id: 1
          match:
            prefix-set: super-spines-loopbacks
        - sequence-id: 2
          match:
            prefix-set: spines-loopbacks
        - sequence-id: 3
          match:
            prefix-set: leaves-loopbacks
        
  network-instances:
    - name: "default"
      admin-state: enable
      interfaces:
      - "ethernet-1/1.0"
      - "ethernet-1/2.0"
      - "ethernet-1/3.0"
      - "ethernet-1/4.0"
      - "ethernet-1/5.0"
      - "ethernet-1/6.0"
      - lo0.0
      protocols:
        bgp:
          admin-state: enable
          autonomous-system: "65020"
          group:
            - admin-state: enable
              group-name: "super-spines"
            - admin-state: enable
              group-name: "leaves"
          ipv4-unicast:
            multipath:
              max-paths-level-1: "32"
              max-paths-level-2: "32"
          neighbor:
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "2.1.3.0"
              peer-as: "65001"
              peer-group: "super-spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "2.2.3.0"
              peer-as: "65001"
              peer-group: "super-spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.3.5.0"
              peer-as: "65025"
              peer-group: "leaves"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.3.6.0"
              peer-as: "65026"
              peer-group: "leaves"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.3.7.0"
              peer-as: "65027"
              peer-group: "leaves"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.3.8.0"
              peer-as: "65028"
              peer-group: "leaves"
          router-id: "20.3.1.1"
      router-id: "20.3.1.1"
      type: default

clab-nanog83-spine4:
  interfaces:
    - name: ethernet-1/1
      admin-state: enable
      description: to_super_spine1_1/4
      subinterface:
        - admin-state: enable
          ipv4-address: 2.1.4.1/31

    - name: ethernet-1/2
      admin-state: enable
      description: to_super_spine2_1/4
      subinterface:
        - admin-state: enable
          ipv4-address: 2.2.4.1/31

    - name: ethernet-1/3
      admin-state: enable
      description: to_leaf5_1/4
      subinterface:
        - admin-state: enable
          ipv4-address: 1.4.5.1/31

    - name: ethernet-1/4
      admin-state: enable
      description: to_leaf6_1/4
      subinterface:
        - admin-state: enable
          ipv4-address: 1.4.6.1/31

    - name: ethernet-1/5
      admin-state: enable
      description: to_leaf7_1/4
      subinterface:
        - admin-state: enable
          ipv4-address: 1.4.7.1/31

    - name: ethernet-1/6
      admin-state: enable
      description: to_leaf8_1/4
      subinterface:
        - admin-state: enable
          ipv4-address: 1.4.8.1/31

    - name: lo0
      admin-state: enable
      description: loopback0
      subinterface:
        - admin-state: enable
          ipv4-address: 20.4.1.1/32

  routing-policy:
    prefix-set:
      - name: super-spines-loopbacks
        prefix: 30.0.0.0/8
        mask-length-range: 8..32
      - name: spines-loopbacks
        prefix: 20.0.0.0/8
        mask-length-range: 8..32
      - name: leaves-loopbacks
        prefix: 10.0.0.0/8
        mask-length-range: 8..32
    policy:
      - name: "export-loopbacks"
        statement:
        - sequence-id: 1
          match:
            prefix-set: super-spines-loopbacks
        - sequence-id: 2
          match:
            prefix-set: spines-loopbacks
        - sequence-id: 3
          match:
            prefix-set: leaves-loopbacks
        
  network-instances:
    - name: "default"
      admin-state: enable
      interfaces:
      - "ethernet-1/1.0"
      - "ethernet-1/2.0"
      - "ethernet-1/3.0"
      - "ethernet-1/4.0"
      - "ethernet-1/5.0"
      - "ethernet-1/6.0"
      - lo0.0
      protocols:
        bgp:
          admin-state: enable
          autonomous-system: "65020"
          group:
            - admin-state: enable
              group-name: "super-spines"
            - admin-state: enable
              group-name: "leaves"
          ipv4-unicast:
            multipath:
              max-paths-level-1: "32"
              max-paths-level-2: "32"
          neighbor:
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "2.1.4.0"
              peer-as: "65001"
              peer-group: "super-spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "2.2.4.0"
              peer-as: "65001"
              peer-group: "super-spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.4.5.0"
              peer-as: "65025"
              peer-group: "leaves"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.4.6.0"
              peer-as: "65026"
              peer-group: "leaves"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.4.7.0"
              peer-as: "65027"
              peer-group: "leaves"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.4.8.0"
              peer-as: "65028"
              peer-group: "leaves"
          router-id: "20.4.1.1"
      router-id: "20.4.1.1"
      type: default

clab-nanog83-leaf1:
  interfaces:
    - name: ethernet-1/1
      admin-state: enable
      description: to_spine1_1/3
      subinterface:
        - admin-state: enable
          ipv4-address: 1.1.1.0/31

    - name: ethernet-1/2
      admin-state: enable
      description: to_spine2_1/3
      subinterface:
        - admin-state: enable
          ipv4-address: 1.2.1.0/31
    
    - name: lo0
      admin-state: enable
      description: loopback0
      subinterface:
        - admin-state: enable
          ipv4-address: 10.1.1.1/32

  routing-policy:
    prefix-set:
      - name: super-spines-loopbacks
        prefix: 30.0.0.0/8
        mask-length-range: 8..32
      - name: spines-loopbacks
        prefix: 20.0.0.0/8
        mask-length-range: 8..32
      - name: leaves-loopbacks
        prefix: 10.0.0.0/8
        mask-length-range: 8..32
    policy:
      - name: "export-loopbacks"
        statement:
        - sequence-id: 1
          match:
            prefix-set: super-spines-loopbacks
        - sequence-id: 2
          match:
            prefix-set: spines-loopbacks
        - sequence-id: 3
          match:
            prefix-set: leaves-loopbacks

  network-instances:
    - name: "default"
      admin-state: enable
      interfaces:
      - "ethernet-1/1.0"
      - "ethernet-1/2.0"
      - lo0.0
      protocols:
        bgp:
          admin-state: enable
          autonomous-system: "65011"
          group:
            - admin-state: enable
              group-name: "spines"
          ipv4-unicast:
            multipath:
              max-paths-level-1: "32"
              max-paths-level-2: "32"
          neighbor:
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.1.1.1"
              peer-as: "65010"
              peer-group: "spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.2.1.1"
              peer-as: "65010"
              peer-group: "spines"
          router-id: "10.1.1.1"
      router-id: "10.1.1.1"
      type: default

clab-nanog83-leaf2:
  interfaces:
    - name: ethernet-1/1
      admin-state: enable
      description: to_spine1_1/4
      subinterface:
        - admin-state: enable
          ipv4-address: 1.1.2.0/31

    - name: ethernet-1/2
      admin-state: enable
      description: to_spine2_1/4
      subinterface:
        - admin-state: enable
          ipv4-address: 1.2.2.0/31

    - name: lo0
      admin-state: enable
      description: loopback0
      subinterface:
        - admin-state: enable
          ipv4-address: 10.2.1.1/32

  routing-policy:
    prefix-set:
      - name: super-spines-loopbacks
        prefix: 30.0.0.0/8
        mask-length-range: 8..32
      - name: spines-loopbacks
        prefix: 20.0.0.0/8
        mask-length-range: 8..32
      - name: leaves-loopbacks
        prefix: 10.0.0.0/8
        mask-length-range: 8..32
    policy:
      - name: "export-loopbacks"
        statement:
        - sequence-id: 1
          match:
            prefix-set: super-spines-loopbacks
        - sequence-id: 2
          match:
            prefix-set: spines-loopbacks
        - sequence-id: 3
          match:
            prefix-set: leaves-loopbacks

  network-instances:
    - name: "default"
      admin-state: enable
      interfaces:
      - "ethernet-1/1.0"
      - "ethernet-1/2.0"
      - lo0.0
      protocols:
        bgp:
          admin-state: enable
          autonomous-system: "65012"
          group:
            - admin-state: enable
              group-name: "spines"
          ipv4-unicast:
            multipath:
              max-paths-level-1: "32"
              max-paths-level-2: "32"
          neighbor:
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.1.2.1"
              peer-as: "65010"
              peer-group: "spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.2.2.1"
              peer-as: "65010"
              peer-group: "spines"
          router-id: "10.2.1.1"
      router-id: "10.2.1.1"
      type: default

clab-nanog83-leaf3:
  interfaces:
    - name: ethernet-1/1
      admin-state: enable
      description: to_spine1_1/5
      subinterface:
        - admin-state: enable
          ipv4-address: 1.1.3.0/31

    - name: ethernet-1/2
      admin-state: enable
      description: to_spine2_1/5
      subinterface:
        - admin-state: enable
          ipv4-address: 1.2.3.0/31
    - name: lo0
      admin-state: enable
      description: loopback0
      subinterface:
        - admin-state: enable
          ipv4-address: 10.3.1.1/32
  
  routing-policy:
    prefix-set:
      - name: super-spines-loopbacks
        prefix: 30.0.0.0/8
        mask-length-range: 8..32
      - name: spines-loopbacks
        prefix: 20.0.0.0/8
        mask-length-range: 8..32
      - name: leaves-loopbacks
        prefix: 10.0.0.0/8
        mask-length-range: 8..32
    policy:
      - name: "export-loopbacks"
        statement:
        - sequence-id: 1
          match:
            prefix-set: super-spines-loopbacks
        - sequence-id: 2
          match:
            prefix-set: spines-loopbacks
        - sequence-id: 3
          match:
            prefix-set: leaves-loopbacks

  network-instances:
    - name: "default"
      admin-state: enable
      interfaces:
      - "ethernet-1/1.0"
      - "ethernet-1/2.0"
      - lo0.0
      protocols:
        bgp:
          admin-state: enable
          autonomous-system: "65013"
          group:
            - admin-state: enable
              group-name: "spines"
          ipv4-unicast:
            multipath:
              max-paths-level-1: "32"
              max-paths-level-2: "32"
          neighbor:
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.1.3.1"
              peer-as: "65010"
              peer-group: "spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.2.3.1"
              peer-as: "65010"
              peer-group: "spines"
          router-id: "10.3.1.1"
      router-id: "10.3.1.1"
      type: default

clab-nanog83-leaf4:
  interfaces:
    - name: ethernet-1/1
      admin-state: enable
      description: to_spine1_1/6
      subinterface:
        - admin-state: enable
          ipv4-address: 1.1.4.0/31

    - name: ethernet-1/2
      admin-state: enable
      description: to_spine2_1/6
      subinterface:
        - admin-state: enable
          ipv4-address: 1.2.4.0/31
    - name: lo0
      admin-state: enable
      description: loopback0
      subinterface:
        - admin-state: enable
          ipv4-address: 10.4.1.1/32

  routing-policy:
    prefix-set:
      - name: super-spines-loopbacks
        prefix: 30.0.0.0/8
        mask-length-range: 8..32
      - name: spines-loopbacks
        prefix: 20.0.0.0/8
        mask-length-range: 8..32
      - name: leaves-loopbacks
        prefix: 10.0.0.0/8
        mask-length-range: 8..32
    policy:
      - name: "export-loopbacks"
        statement:
        - sequence-id: 1
          match:
            prefix-set: super-spines-loopbacks
        - sequence-id: 2
          match:
            prefix-set: spines-loopbacks
        - sequence-id: 3
          match:
            prefix-set: leaves-loopbacks

  network-instances:
    - name: "default"
      admin-state: enable
      interfaces:
      - "ethernet-1/1.0"
      - "ethernet-1/2.0"
      - lo0.0
      protocols:
        bgp:
          admin-state: enable
          autonomous-system: "65014"
          group:
            - admin-state: enable
              group-name: "spines"
          ipv4-unicast:
            multipath:
              max-paths-level-1: "32"
              max-paths-level-2: "32"
          neighbor:
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.1.4.1"
              peer-as: "65010"
              peer-group: "spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.2.4.1"
              peer-as: "65010"
              peer-group: "spines"
          router-id: "10.4.1.1"
      router-id: "10.4.1.1"
      type: default
        
clab-nanog83-leaf5:
  interfaces:
    - name: ethernet-1/1
      admin-state: enable
      description: to_spine3_1/1
      subinterface:
        - admin-state: enable
          ipv4-address: 1.3.5.0/31

    - name: ethernet-1/2
      admin-state: enable
      description: to_spine4_1/1
      subinterface:
        - admin-state: enable
          ipv4-address: 1.4.5.0/31
    - name: lo0
      admin-state: enable
      description: loopback0
      subinterface:
        - admin-state: enable
          ipv4-address: 10.5.1.1/32

  routing-policy:
    prefix-set:
      - name: super-spines-loopbacks
        prefix: 30.0.0.0/8
        mask-length-range: 8..32
      - name: spines-loopbacks
        prefix: 20.0.0.0/8
        mask-length-range: 8..32
      - name: leaves-loopbacks
        prefix: 10.0.0.0/8
        mask-length-range: 8..32
    policy:
      - name: "export-loopbacks"
        statement:
        - sequence-id: 1
          match:
            prefix-set: super-spines-loopbacks
        - sequence-id: 2
          match:
            prefix-set: spines-loopbacks
        - sequence-id: 3
          match:
            prefix-set: leaves-loopbacks

  network-instances:
    - name: "default"
      admin-state: enable
      interfaces:
      - "ethernet-1/1.0"
      - "ethernet-1/2.0"
      - lo0.0
      protocols:
        bgp:
          admin-state: enable
          autonomous-system: "65025"
          group:
            - admin-state: enable
              group-name: "spines"
          ipv4-unicast:
            multipath:
              max-paths-level-1: "32"
              max-paths-level-2: "32"
          neighbor:
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.3.5.1"
              peer-as: "65020"
              peer-group: "spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.4.5.1"
              peer-as: "65020"
              peer-group: "spines"
          router-id: "10.5.1.1"
      router-id: "10.5.1.1"
      type: default
        
clab-nanog83-leaf6:
  interfaces:
    - name: ethernet-1/1
      admin-state: enable
      description: to_spine3_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 1.3.6.0/31

    - name: ethernet-1/2
      admin-state: enable
      description: to_spine4_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 1.4.6.0/31

    - name: lo0
      admin-state: enable
      description: loopback0
      subinterface:
        - admin-state: enable
          ipv4-address: 10.6.1.1/32
  
  routing-policy:
    prefix-set:
      - name: super-spines-loopbacks
        prefix: 30.0.0.0/8
        mask-length-range: 8..32
      - name: spines-loopbacks
        prefix: 20.0.0.0/8
        mask-length-range: 8..32
      - name: leaves-loopbacks
        prefix: 10.0.0.0/8
        mask-length-range: 8..32
    policy:
      - name: "export-loopbacks"
        statement:
        - sequence-id: 1
          match:
            prefix-set: super-spines-loopbacks
        - sequence-id: 2
          match:
            prefix-set: spines-loopbacks
        - sequence-id: 3
          match:
            prefix-set: leaves-loopbacks

  network-instances:
    - name: "default"
      admin-state: enable
      interfaces:
      - "ethernet-1/1.0"
      - "ethernet-1/2.0"
      - lo0.0
      protocols:
        bgp:
          admin-state: enable
          autonomous-system: "65026"
          group:
            - admin-state: enable
              group-name: "spines"
          ipv4-unicast:
            multipath:
              max-paths-level-1: "32"
              max-paths-level-2: "32"
          neighbor:
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.3.6.1"
              peer-as: "65020"
              peer-group: "spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.4.6.1"
              peer-as: "65020"
              peer-group: "spines"
          router-id: "10.6.1.1"
      router-id: "10.6.1.1"
      type: default
    
clab-nanog83-leaf7:
  interfaces:
    - name: ethernet-1/1
      admin-state: enable
      description: to_spine3_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 1.3.7.0/31

    - name: ethernet-1/2
      admin-state: enable
      description: to_spine4_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 1.4.7.0/31
    
    - name: lo0
      admin-state: enable
      description: loopback0
      subinterface:
        - admin-state: enable
          ipv4-address: 10.7.1.1/32

  routing-policy:
    prefix-set:
      - name: super-spines-loopbacks
        prefix: 30.0.0.0/8
        mask-length-range: 8..32
      - name: spines-loopbacks
        prefix: 20.0.0.0/8
        mask-length-range: 8..32
      - name: leaves-loopbacks
        prefix: 10.0.0.0/8
        mask-length-range: 8..32
    policy:
      - name: "export-loopbacks"
        statement:
        - sequence-id: 1
          match:
            prefix-set: super-spines-loopbacks
        - sequence-id: 2
          match:
            prefix-set: spines-loopbacks
        - sequence-id: 3
          match:
            prefix-set: leaves-loopbacks

  network-instances:
    - name: "default"
      admin-state: enable
      interfaces:
      - "ethernet-1/1.0"
      - "ethernet-1/2.0"
      - lo0.0
      protocols:
        bgp:
          admin-state: enable
          autonomous-system: "65027"
          group:
            - admin-state: enable
              group-name: "spines"
          ipv4-unicast:
            multipath:
              max-paths-level-1: "32"
              max-paths-level-2: "32"
          neighbor:
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.3.7.1"
              peer-as: "65020"
              peer-group: "spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.4.7.1"
              peer-as: "65020"
              peer-group: "spines"
          router-id: "10.7.1.1"
      router-id: "10.7.1.1"
      type: default

clab-nanog83-leaf8:
  interfaces:
    - name: ethernet-1/1
      admin-state: enable
      description: to_spine3_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 1.3.8.0/31

    - name: ethernet-1/2
      admin-state: enable
      description: to_spine4_1/2
      subinterface:
        - admin-state: enable
          ipv4-address: 1.4.8.0/31

    - name: lo0
      admin-state: enable
      description: loopback0
      subinterface:
        - admin-state: enable
          ipv4-address: 10.8.1.1/32

  routing-policy:
    prefix-set:
      - name: super-spines-loopbacks
        prefix: 30.0.0.0/8
        mask-length-range: 8..32
      - name: spines-loopbacks
        prefix: 20.0.0.0/8
        mask-length-range: 8..32
      - name: leaves-loopbacks
        prefix: 10.0.0.0/8
        mask-length-range: 8..32
    policy:
      - name: "export-loopbacks"
        statement:
        - sequence-id: 1
          match:
            prefix-set: super-spines-loopbacks
        - sequence-id: 2
          match:
            prefix-set: spines-loopbacks
        - sequence-id: 3
          match:
            prefix-set: leaves-loopbacks

  network-instances:
    - name: "default"
      admin-state: enable
      interfaces:
      - "ethernet-1/1.0"
      - "ethernet-1/2.0"
      - lo0.0
      protocols:
        bgp:
          admin-state: enable
          autonomous-system: "65028"
          group:
            - admin-state: enable
              group-name: "spines"
          ipv4-unicast:
            multipath:
              max-paths-level-1: "32"
              max-paths-level-2: "32"
          neighbor:
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.3.8.1"
              peer-as: "65020"
              peer-group: "spines"
            - admin-state: enable
              export-policy: export-loopbacks
              failure-detection:
                enable-bfd: "true"
                fast-failover: "true"
              peer-address: "1.4.8.1"
              peer-as: "65020"
              peer-group: "spines"
          router-id: "10.8.1.1"
      router-id: "10.8.1.1"
      type: default